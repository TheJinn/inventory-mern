import React, { useEffect, useMemo, useState } from 'react';
import styles from './Home.module.css';
import api from '../utils/api';

// ----- chart helpers (defensive: supports multiple server response shapes) -----
function firstArray(...candidates) {
  for (const c of candidates) {
    if (Array.isArray(c) && c.length) return c;
  }
  return null;
}

function pickSeriesRoot(root, view) {
  const v = view === 'weekly' ? 'weekly' : 'monthly';

  // Common keys we have seen across versions
  return (
    firstArray(
      root?.series?.[v],
      root?.salesPurchaseSeries?.[v],
      root?.salesAndPurchaseSeries?.[v],
      root?.chartSeries?.[v],
      root?.graphSeries?.[v],
      root?.chart?.[v],
      root?.graph?.[v],
      root?.[`${v}Series`],
      root?.[`${v}SalesPurchaseSeries`],
      root?.[`${v}SalesAndPurchaseSeries`],
      root?.[v]
    ) || null
  );
}

function normalizeSeries(raw, view) {
  if (!raw) return [];

  // Shape: { labels: [], sales: [], purchase: [] }
  if (!Array.isArray(raw) && typeof raw === 'object') {
    const labels = raw.labels || raw.label || raw.x || raw.axis || null;
    const sales = raw.sales || raw.sale || raw.sold || raw.revenue || null;
    const purchase = raw.purchase || raw.purchases || raw.cost || raw.buy || null;

    if (Array.isArray(labels) && (Array.isArray(sales) || Array.isArray(purchase))) {
      return labels.map((lbl, idx) => ({
        label: String(lbl),
        sales: Number((sales || [])[idx] ?? 0),
        purchase: Number((purchase || [])[idx] ?? 0)
      }));
    }
  }

  // Shape: Array<{label/month/day, sales, purchase}>
  const arr = Array.isArray(raw) ? raw : [];
  const fallbackLabels = (() => {
    if (view === 'weekly') {
      // last 7 days labels (including today) -> "Mon", "Tue", ...
      const now = new Date();
      const start = new Date(now);
      start.setHours(0, 0, 0, 0);
      start.setDate(start.getDate() - 6);
      return Array.from({ length: 7 }, (_, i) => {
        const d = new Date(start);
        d.setDate(start.getDate() + i);
        return d.toLocaleString('en', { weekday: 'short' });
      });
    }
    return ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
  })();

  return arr
    .map((d, idx) => {
      const label = d?.label ?? d?.month ?? d?.day ?? d?.name ?? fallbackLabels[idx] ?? String(idx + 1);
      const sales = Number(d?.sales ?? d?.salesValue ?? d?.revenue ?? d?.totalSales ?? 0);
      const purchase = Number(d?.purchase ?? d?.purchaseValue ?? d?.cost ?? d?.totalPurchase ?? 0);
      return { label: String(label), sales, purchase };
    })
    .filter((d) => d.label);
}

// Tolerate different backend response shapes (prevents dashboard showing zeros when keys differ)
function pickNumber(obj, keys, fallback = 0) {
  if (!obj) return fallback;
  for (const k of keys) {
    const v = obj?.[k];
    if (typeof v === 'number' && !Number.isNaN(v)) return v;
    if (typeof v === 'string' && v.trim() !== '' && !Number.isNaN(Number(v))) return Number(v);
  }
  return fallback;
}

function pickArray(obj, keys) {
  if (!obj) return [];
  for (const k of keys) {
    const v = obj?.[k];
    if (Array.isArray(v)) return v;
  }
  return [];
}

const nf = new Intl.NumberFormat('en-IN');
const formatINR = (n) => `â‚¹ ${nf.format(Math.round(n || 0))}`;

function IconSquare({ bg, children }) {
  return (
    <div className={styles.iconSquare} style={{ background: bg }}>
      {children}
    </div>
  );
}

function Svg({ children }) {
  return (
    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      {children}
    </svg>
  );
}

// Simple inline icons (kept lightweight, no external icon libs)
const Icons = {
  sales: (
    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="30" height="30" rx="4" fill="#0BB2F4"/>
      <path d="M18.6192 8.33914C19.2298 8.33914 19.8155 8.09663 20.2473 7.66486C20.6791 7.23305 20.9216 6.64732 20.9216 6.03676C20.9216 5.42602 20.6791 4.84049 20.2473 4.40866C19.8155 3.97686 19.2298 3.73438 18.6192 3.73438C18.0085 3.73438 17.4229 3.97689 16.9911 4.40866C16.5593 4.84046 16.3166 5.42597 16.3166 6.03676C16.3166 6.64732 16.5593 7.23303 16.9911 7.66486C17.4229 8.09666 18.0084 8.33914 18.6192 8.33914ZM18.6192 5.04994C18.8808 5.04994 19.1318 5.15387 19.3169 5.33903C19.5019 5.52395 19.6058 5.77496 19.6058 6.03675C19.6058 6.29831 19.5019 6.54932 19.3169 6.73448C19.1318 6.9194 18.8808 7.02357 18.6192 7.02357C18.3574 7.02357 18.1064 6.9194 17.9213 6.73448C17.7363 6.54932 17.6324 6.29832 17.6324 6.03675C17.6324 5.77497 17.7363 5.52396 17.9213 5.33903C18.1064 5.15388 18.3574 5.04994 18.6192 5.04994Z" fill="#292929"/>
      <path d="M22.2373 10.6415C22.2373 11.2522 22.4798 11.8378 22.9116 12.2696C23.3434 12.7014 23.9292 12.9439 24.5397 12.9439C25.1505 12.9439 25.736 12.7014 26.1678 12.2696C26.5996 11.8378 26.8423 11.2523 26.8423 10.6415C26.8423 10.0309 26.5996 9.44522 26.1678 9.0134C25.736 8.5816 25.1505 8.33911 24.5397 8.33911C23.9292 8.33911 23.3434 8.58163 22.9116 9.0134C22.4798 9.4452 22.2373 10.0309 22.2373 10.6415ZM25.5265 10.6415C25.5265 10.9033 25.4226 11.1543 25.2377 11.3392C25.0525 11.5244 24.8015 11.6283 24.5397 11.6283C24.2782 11.6283 24.0272 11.5244 23.842 11.3392C23.6571 11.1543 23.5531 10.9033 23.5531 10.6415C23.5531 10.3799 23.6571 10.1289 23.842 9.94377C24.0271 9.75885 24.2782 9.65468 24.5397 9.65468C24.8015 9.65468 25.0525 9.75884 25.2377 9.94377C25.4226 10.1289 25.5265 10.3799 25.5265 10.6415Z" fill="#292929"/>
      <path d="M18.228 12.6508C18.3682 12.755 18.5444 12.7988 18.7172 12.7729C18.89 12.747 19.0453 12.6534 19.149 12.5127L24.7406 4.94756V4.94778C24.9567 4.65525 24.895 4.24296 24.6025 4.02681C24.3099 3.81045 23.8976 3.8724 23.6815 4.16493L18.0899 11.7301V11.7299C17.9857 11.8703 17.9419 12.0463 17.9678 12.219C17.9938 12.3918 18.0874 12.5473 18.228 12.6508L18.228 12.6508Z" fill="#292929"/>
      <path d="M8.09375 9.32593C7.15974 9.32593 2.50217 9.42137 2.50217 11.2996C2.50217 13.1778 7.15974 13.2732 8.09375 13.2732C9.02777 13.2732 13.6853 13.1778 13.6853 11.2996C13.6856 9.42137 9.028 9.32593 8.09375 9.32593ZM8.09375 11.9573C5.89668 11.9573 4.47551 11.579 3.96251 11.2996C4.47576 11.0199 5.89668 10.6416 8.09375 10.6416C10.2908 10.6416 11.712 11.0199 12.225 11.2993C11.712 11.579 10.2911 11.9573 8.09375 11.9573Z" fill="#292929"/>
      <path d="M13.0276 12.7795C12.7018 12.7752 12.4219 13.0103 12.3698 13.332C12.0802 13.6082 10.5772 14.0951 8.09376 14.0951C5.61059 14.0951 4.09743 13.6018 3.81797 13.332C3.78883 12.9688 3.47083 12.6978 3.10739 12.7267C2.74419 12.7559 2.47321 13.0739 2.50211 13.4373C2.50211 15.3155 7.15968 15.4109 8.0937 15.4109C9.02772 15.4109 13.6853 15.3155 13.6853 13.4373H13.6855C13.6855 13.2627 13.6162 13.0954 13.4928 12.972C13.3694 12.8488 13.2021 12.7795 13.0275 12.7795H13.0276Z" fill="#292929"/>
      <path d="M13.0276 15.082C12.7018 15.0779 12.4219 15.3128 12.3698 15.6345C12.0802 15.9107 10.5772 16.3976 8.09376 16.3976C5.61059 16.3976 4.09743 15.9043 3.81797 15.6345C3.78883 15.2713 3.47083 15.0003 3.10739 15.0292C2.74419 15.0584 2.47321 15.3764 2.50211 15.7398C2.50211 17.618 7.15968 17.7134 8.0937 17.7134C9.02772 17.7134 13.6853 17.618 13.6853 15.7398H13.6855C13.6855 15.5654 13.6162 15.3979 13.4928 15.2747C13.3694 15.1513 13.2021 15.082 13.0275 15.082H13.0276Z" fill="#292929"/>
      <path d="M13.0276 17.3845C12.7018 17.3804 12.4219 17.6153 12.3698 17.937C12.0802 18.2133 10.5772 18.7001 8.09376 18.7001C5.61059 18.7001 4.09743 18.2068 3.81797 17.937C3.78883 17.5738 3.47083 17.3028 3.10739 17.332C2.74419 17.3609 2.47321 17.6791 2.50211 18.0423C2.50211 19.9205 7.15968 20.016 8.0937 20.016C9.02772 20.016 13.6853 19.9205 13.6853 18.0423H13.6855C13.6855 17.868 13.6162 17.7005 13.4928 17.5773C13.3694 17.4538 13.2021 17.3845 13.0275 17.3845H13.0276Z" fill="#292929"/>
      <path d="M13.0276 19.6868C12.7018 19.6827 12.4219 19.9176 12.3698 20.2395C12.0802 20.5157 10.5772 21.0026 8.09376 21.0026C5.61059 21.0026 4.09743 20.5091 3.81797 20.2395C3.78883 19.8761 3.47083 19.6051 3.10739 19.6342C2.74419 19.6634 2.47321 19.9814 2.50211 20.3446C2.50211 22.2228 7.15968 22.3182 8.0937 22.3182C9.02772 22.3182 13.6853 22.2228 13.6853 20.3446H13.6855C13.6855 20.1702 13.6162 20.0029 13.4928 19.8795C13.3694 19.7561 13.2021 19.6868 13.0275 19.6868H13.0276Z" fill="#292929"/>
      <path d="M13.0276 21.9893C12.7018 21.9851 12.4219 22.2203 12.3698 22.542C12.0802 22.8182 10.5772 23.3051 8.09376 23.3051C5.61059 23.3051 4.09743 22.8116 3.81797 22.542C3.78883 22.1786 3.47083 21.9076 3.10739 21.9367C2.74419 21.9659 2.47321 22.2839 2.50211 22.6473C2.50211 24.5255 7.15968 24.6209 8.0937 24.6209C9.02772 24.6209 13.6853 24.5255 13.6853 22.6473H13.6855C13.6855 22.4727 13.6162 22.3054 13.4928 22.182C13.3694 22.0586 13.2021 21.9893 13.0275 21.9893L13.0276 21.9893Z" fill="#292929"/>
      <path d="M21.9084 19.5225C22.8424 19.5225 27.5 19.427 27.5 17.5488C27.5 15.6706 22.8424 15.5752 21.9084 15.5752C20.9744 15.5752 16.3168 15.6706 16.3168 17.5488C16.3166 19.4272 20.9742 19.5225 21.9084 19.5225ZM21.9084 16.8911C24.1055 16.8911 25.5267 17.2694 26.0397 17.5488C25.5264 17.8285 24.1055 18.2069 21.9084 18.2069C19.7114 18.2069 18.2902 17.8285 17.7772 17.5491C18.2902 17.2694 19.7111 16.8913 21.9084 16.8913V16.8911Z" fill="#292929"/>
      <path d="M26.8422 19.0291C26.5162 19.0249 26.2365 19.2599 26.1842 19.5815C25.8947 19.8578 24.3916 20.3446 21.9082 20.3446C19.425 20.3446 17.9119 19.8514 17.6324 19.5815C17.6033 19.2183 17.2853 18.9474 16.9218 18.9765C16.5586 19.0054 16.2876 19.3237 16.3165 19.6869C16.3165 21.5651 20.9741 21.6605 21.9081 21.6605C22.8421 21.6605 27.4997 21.5651 27.4997 19.6869H27.4999C27.4999 19.5125 27.4306 19.345 27.3072 19.2218C27.1838 19.0984 27.0165 19.0291 26.8421 19.0291H26.8422Z" fill="#292929"/>
      <path d="M26.8422 21.3316C26.5162 21.3274 26.2365 21.5624 26.1842 21.8843C25.8947 22.1605 24.3916 22.6474 21.9082 22.6474C19.425 22.6474 17.9119 22.1539 17.6324 21.8843C17.6033 21.5208 17.2853 21.2499 16.9218 21.279C16.5586 21.3081 16.2876 21.6261 16.3165 21.9894C16.3165 23.8675 20.9741 23.963 21.9081 23.963C22.8421 23.963 27.4997 23.8675 27.4997 21.9894H27.4999C27.4999 21.815 27.4306 21.6477 27.3072 21.5243C27.1838 21.4008 27.0165 21.3316 26.8421 21.3316H26.8422Z" fill="#292929"/>
      <path d="M26.8422 23.634C26.5162 23.6299 26.2365 23.8651 26.1842 24.1868C25.8947 24.463 24.3916 24.9499 21.9082 24.9499C19.425 24.9499 17.9119 24.4563 17.6324 24.1868C17.6033 23.8233 17.2853 23.5524 16.9218 23.5815C16.5586 23.6106 16.2876 23.9286 16.3165 24.2921C16.3165 26.1703 20.9741 26.2657 21.9081 26.2657C22.8421 26.2657 27.4997 26.1703 27.4997 24.2921H27.4999C27.4999 24.1175 27.4306 23.9502 27.3072 23.8268C27.1838 23.7033 27.0165 23.6341 26.8421 23.6341L26.8422 23.634Z" fill="#292929"/>
    </svg>

  ),
  revenue: (
    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="30" height="30" rx="4" fill="#FAD85D"/>
      <mask id="path-2-outside-1_1_1491" maskUnits="userSpaceOnUse" x="2" y="2" width="27" height="25" fill="black">
      <rect fill="white" x="2" y="2" width="27" height="25"/>
      <path d="M18.7814 15.2144H12.2181C12.0251 15.2144 11.8683 15.3713 11.8683 15.5643V26.444C11.8683 26.637 12.0251 26.7938 12.2181 26.7938H18.7808C18.9738 26.7938 19.1307 26.637 19.1307 26.444L19.1309 15.5643C19.1309 15.3713 18.9741 15.2144 18.781 15.2144H18.7814ZM12.5685 20.6306V19.5156H18.432V20.6312H12.5685V20.6306ZM18.4315 21.3305V22.4461H12.5685V21.3305H18.4315ZM12.5685 18.8159V17.7003H18.432V18.8159H12.5685ZM12.5685 23.1459H18.432V24.2615H12.5685V23.1459ZM18.4315 15.9141V17.0007L12.5685 17.0004V15.9139L18.4315 15.9141ZM12.5685 26.0935V24.961H18.432L18.4318 26.0935H12.5685ZM27.6502 9.77423H21.0875C20.8944 9.77423 20.7376 9.93105 20.7376 10.1241L20.7374 26.4434C20.7374 26.6364 20.8942 26.7932 21.0873 26.7932H27.65C27.843 26.7932 27.9998 26.6364 27.9998 26.4434L28 10.1241C28 9.93105 27.8438 9.77423 27.6502 9.77423ZM21.4374 18.8149V17.6993H27.3008V18.8149H21.4374ZM27.3008 19.5146V20.6302H21.4374V19.5146H27.3008ZM21.4374 17V15.8844H27.3008V17H21.4374ZM21.4374 15.1848V14.0691H27.3008V15.1848H21.4374ZM21.4374 21.3299H27.3008V22.4455H21.4374V21.3299ZM27.3008 13.3691H21.4374V12.2535H27.3008V13.3691ZM21.4374 23.1455H27.3008V24.2611H21.4374V23.1455ZM27.3008 10.4736V11.5536H21.4374V10.4736H27.3008ZM21.4374 26.0931V24.9606H27.3008V26.0931H21.4374ZM9.91254 20.6535H3.34984C3.15682 20.6535 3 20.8103 3 21.0033V26.4435C3 26.6365 3.15681 26.7933 3.34984 26.7933H9.91254C10.1056 26.7933 10.2624 26.6365 10.2624 26.4435V21.0039C10.2626 20.8106 10.1056 20.6538 9.91254 20.6538V20.6535ZM3.69974 23.1664H9.56316V24.2796H3.69974V23.1664ZM9.56316 21.3534V22.4666H3.69974V21.3534H9.56316ZM3.69974 26.0933V24.9801H9.56316V26.0933H3.69974ZM16.6634 11.6682L24.632 3.69967H20.9719C20.7789 3.69967 20.6221 3.54286 20.6221 3.34984C20.6221 3.15681 20.7789 3 20.9719 3H25.4769C25.6699 3 25.8267 3.15681 25.8267 3.34984V7.8548C25.8267 8.04781 25.6699 8.20463 25.4769 8.20463C25.2839 8.20463 25.127 8.04782 25.127 7.8548V4.19475L16.9112 12.4106C16.7747 12.5471 16.5532 12.5471 16.4161 12.4106L13.8158 9.81028L5.77172 17.8548C5.70358 17.923 5.61368 17.9576 5.52439 17.9576C5.4351 17.9576 5.34541 17.9232 5.27707 17.8548C5.14059 17.7184 5.14059 17.4969 5.27707 17.3604L13.569 9.0685C13.7054 8.93203 13.9269 8.93203 14.064 9.0685L16.6634 11.6682Z"/>
      </mask>
      <path d="M18.7814 15.2144H12.2181C12.0251 15.2144 11.8683 15.3713 11.8683 15.5643V26.444C11.8683 26.637 12.0251 26.7938 12.2181 26.7938H18.7808C18.9738 26.7938 19.1307 26.637 19.1307 26.444L19.1309 15.5643C19.1309 15.3713 18.9741 15.2144 18.781 15.2144H18.7814ZM12.5685 20.6306V19.5156H18.432V20.6312H12.5685V20.6306ZM18.4315 21.3305V22.4461H12.5685V21.3305H18.4315ZM12.5685 18.8159V17.7003H18.432V18.8159H12.5685ZM12.5685 23.1459H18.432V24.2615H12.5685V23.1459ZM18.4315 15.9141V17.0007L12.5685 17.0004V15.9139L18.4315 15.9141ZM12.5685 26.0935V24.961H18.432L18.4318 26.0935H12.5685ZM27.6502 9.77423H21.0875C20.8944 9.77423 20.7376 9.93105 20.7376 10.1241L20.7374 26.4434C20.7374 26.6364 20.8942 26.7932 21.0873 26.7932H27.65C27.843 26.7932 27.9998 26.6364 27.9998 26.4434L28 10.1241C28 9.93105 27.8438 9.77423 27.6502 9.77423ZM21.4374 18.8149V17.6993H27.3008V18.8149H21.4374ZM27.3008 19.5146V20.6302H21.4374V19.5146H27.3008ZM21.4374 17V15.8844H27.3008V17H21.4374ZM21.4374 15.1848V14.0691H27.3008V15.1848H21.4374ZM21.4374 21.3299H27.3008V22.4455H21.4374V21.3299ZM27.3008 13.3691H21.4374V12.2535H27.3008V13.3691ZM21.4374 23.1455H27.3008V24.2611H21.4374V23.1455ZM27.3008 10.4736V11.5536H21.4374V10.4736H27.3008ZM21.4374 26.0931V24.9606H27.3008V26.0931H21.4374ZM9.91254 20.6535H3.34984C3.15682 20.6535 3 20.8103 3 21.0033V26.4435C3 26.6365 3.15681 26.7933 3.34984 26.7933H9.91254C10.1056 26.7933 10.2624 26.6365 10.2624 26.4435V21.0039C10.2626 20.8106 10.1056 20.6538 9.91254 20.6538V20.6535ZM3.69974 23.1664H9.56316V24.2796H3.69974V23.1664ZM9.56316 21.3534V22.4666H3.69974V21.3534H9.56316ZM3.69974 26.0933V24.9801H9.56316V26.0933H3.69974ZM16.6634 11.6682L24.632 3.69967H20.9719C20.7789 3.69967 20.6221 3.54286 20.6221 3.34984C20.6221 3.15681 20.7789 3 20.9719 3H25.4769C25.6699 3 25.8267 3.15681 25.8267 3.34984V7.8548C25.8267 8.04781 25.6699 8.20463 25.4769 8.20463C25.2839 8.20463 25.127 8.04782 25.127 7.8548V4.19475L16.9112 12.4106C16.7747 12.5471 16.5532 12.5471 16.4161 12.4106L13.8158 9.81028L5.77172 17.8548C5.70358 17.923 5.61368 17.9576 5.52439 17.9576C5.4351 17.9576 5.34541 17.9232 5.27707 17.8548C5.14059 17.7184 5.14059 17.4969 5.27707 17.3604L13.569 9.0685C13.7054 8.93203 13.9269 8.93203 14.064 9.0685L16.6634 11.6682Z" fill="#292929"/>
      <path d="M18.7814 15.2144H12.2181C12.0251 15.2144 11.8683 15.3713 11.8683 15.5643V26.444C11.8683 26.637 12.0251 26.7938 12.2181 26.7938H18.7808C18.9738 26.7938 19.1307 26.637 19.1307 26.444L19.1309 15.5643C19.1309 15.3713 18.9741 15.2144 18.781 15.2144H18.7814ZM12.5685 20.6306V19.5156H18.432V20.6312H12.5685V20.6306ZM18.4315 21.3305V22.4461H12.5685V21.3305H18.4315ZM12.5685 18.8159V17.7003H18.432V18.8159H12.5685ZM12.5685 23.1459H18.432V24.2615H12.5685V23.1459ZM18.4315 15.9141V17.0007L12.5685 17.0004V15.9139L18.4315 15.9141ZM12.5685 26.0935V24.961H18.432L18.4318 26.0935H12.5685ZM27.6502 9.77423H21.0875C20.8944 9.77423 20.7376 9.93105 20.7376 10.1241L20.7374 26.4434C20.7374 26.6364 20.8942 26.7932 21.0873 26.7932H27.65C27.843 26.7932 27.9998 26.6364 27.9998 26.4434L28 10.1241C28 9.93105 27.8438 9.77423 27.6502 9.77423ZM21.4374 18.8149V17.6993H27.3008V18.8149H21.4374ZM27.3008 19.5146V20.6302H21.4374V19.5146H27.3008ZM21.4374 17V15.8844H27.3008V17H21.4374ZM21.4374 15.1848V14.0691H27.3008V15.1848H21.4374ZM21.4374 21.3299H27.3008V22.4455H21.4374V21.3299ZM27.3008 13.3691H21.4374V12.2535H27.3008V13.3691ZM21.4374 23.1455H27.3008V24.2611H21.4374V23.1455ZM27.3008 10.4736V11.5536H21.4374V10.4736H27.3008ZM21.4374 26.0931V24.9606H27.3008V26.0931H21.4374ZM9.91254 20.6535H3.34984C3.15682 20.6535 3 20.8103 3 21.0033V26.4435C3 26.6365 3.15681 26.7933 3.34984 26.7933H9.91254C10.1056 26.7933 10.2624 26.6365 10.2624 26.4435V21.0039C10.2626 20.8106 10.1056 20.6538 9.91254 20.6538V20.6535ZM3.69974 23.1664H9.56316V24.2796H3.69974V23.1664ZM9.56316 21.3534V22.4666H3.69974V21.3534H9.56316ZM3.69974 26.0933V24.9801H9.56316V26.0933H3.69974ZM16.6634 11.6682L24.632 3.69967H20.9719C20.7789 3.69967 20.6221 3.54286 20.6221 3.34984C20.6221 3.15681 20.7789 3 20.9719 3H25.4769C25.6699 3 25.8267 3.15681 25.8267 3.34984V7.8548C25.8267 8.04781 25.6699 8.20463 25.4769 8.20463C25.2839 8.20463 25.127 8.04782 25.127 7.8548V4.19475L16.9112 12.4106C16.7747 12.5471 16.5532 12.5471 16.4161 12.4106L13.8158 9.81028L5.77172 17.8548C5.70358 17.923 5.61368 17.9576 5.52439 17.9576C5.4351 17.9576 5.34541 17.9232 5.27707 17.8548C5.14059 17.7184 5.14059 17.4969 5.27707 17.3604L13.569 9.0685C13.7054 8.93203 13.9269 8.93203 14.064 9.0685L16.6634 11.6682Z" stroke="#292929" stroke-width="0.2" mask="url(#path-2-outside-1_1_1491)"/>
    </svg>

  ),
  profit: (
    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="30" height="30" rx="4" fill="#0BF4C8"/>
      <path d="M6.96191 20.0977V20.1094C7.15554 20.1543 7.30078 20.3269 7.30078 20.5352V27.6611C7.30078 27.9036 7.10379 28.0986 6.8623 28.0986H3.62305C3.38118 28.0986 3.18555 27.9037 3.18555 27.6611V20.5352C3.18555 20.2926 3.38133 20.0977 3.62305 20.0977H6.96191ZM13.8906 15.7236C14.132 15.7236 14.328 15.9186 14.3281 16.1611V27.6611C14.3281 27.9036 14.1321 28.0986 13.8906 28.0986H10.6514C10.4099 28.0986 10.2139 27.9038 10.2139 27.6611V16.1611C10.214 15.9189 10.41 15.7236 10.6514 15.7236H13.8906ZM20.9189 12.7539C21.1605 12.7539 21.3566 12.9507 21.3564 13.1914V27.6611C21.3564 27.9035 21.1603 28.0985 20.9189 28.0986H17.6797C17.4382 28.0986 17.2412 27.9038 17.2412 27.6611V13.1914C17.2414 12.9508 17.438 12.7539 17.6797 12.7539H20.9189ZM27.9473 9.08301C28.1888 9.08304 28.3845 9.27889 28.3848 9.51953V27.6611C28.3848 27.9035 28.1889 28.0986 27.9473 28.0986H24.708C24.4661 28.0986 24.2695 27.9037 24.2695 27.6611V9.51953C24.2698 9.27865 24.4665 9.08301 24.708 9.08301H27.9473ZM25.1455 27.2236H27.5088V9.95898H25.1455V27.2236ZM18.1172 27.2236H20.4814V13.6309H18.1172V27.2236ZM11.0889 27.2236H13.4531V16.5986H11.0889V27.2236ZM4.06055 27.2236H6.4248V20.9727H4.06055V27.2236ZM26.0205 2.90039H26.0615C26.1757 2.90641 26.2847 2.95678 26.3623 3.04199H26.3613C26.4501 3.13883 26.491 3.27086 26.4717 3.40137L26.0869 6.04199C26.0552 6.26021 25.8679 6.41601 25.6543 6.41602C25.6327 6.41602 25.611 6.41478 25.5889 6.41113V6.41016C25.351 6.37408 25.1862 6.15461 25.2207 5.91602L25.4287 4.48145C19.3462 9.94761 12.0666 14.1865 3.7666 17.0762L3.76562 17.0752C3.71708 17.0926 3.66861 17.1006 3.62207 17.1006C3.44164 17.1004 3.27312 16.9875 3.20996 16.8066L3.18652 16.7402L3.19336 16.7344C3.15881 16.5279 3.27488 16.3213 3.47852 16.249L3.47949 16.248C11.6646 13.3988 18.8398 9.22262 24.832 3.84082L23.3975 3.91992C23.1577 3.9323 22.9498 3.74837 22.9365 3.50586C22.9234 3.26548 23.1079 3.05761 23.3496 3.04492L26.0146 2.90039L26.0205 2.89941V2.90039Z" fill="#292929" stroke="#0BF4C8" stroke-width="0.2"/>
    </svg>

  ),
  cost: (
    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="30" height="30" rx="4" fill="#F2A0FF"/>
      <path d="M18.9397 13.089H12.8071C12.5688 13.089 12.3755 12.912 12.3755 12.6936C12.3755 12.4752 12.5687 12.2981 12.8071 12.2981H18.9394C19.1778 12.2981 19.3711 12.4751 19.3711 12.6936C19.3711 12.912 19.1778 13.089 18.9396 13.089H18.9397Z" fill="#292929"/>
      <path d="M18.9397 15.9616H12.8071C12.5688 15.9616 12.3755 15.7846 12.3755 15.5661C12.3755 15.3477 12.5687 15.1707 12.8071 15.1707H18.9394C19.1778 15.1707 19.3711 15.3477 19.3711 15.5661C19.3711 15.7846 19.1778 15.9616 18.9396 15.9616H18.9397Z" fill="#292929"/>
      <path d="M12.8705 18.6496C12.6321 18.6496 12.4388 18.4726 12.4388 18.2541C12.4388 18.0357 12.632 17.8586 12.8705 17.8586C15.1801 17.8586 17.1313 16.7554 17.1313 15.4496C17.1313 14.1437 15.18 13.0404 12.8705 13.0404C12.6321 13.0404 12.4388 12.8634 12.4388 12.645C12.4388 12.4266 12.632 12.2495 12.8705 12.2495C15.7439 12.2495 17.9947 13.6552 17.9947 15.4495C17.9947 17.2438 15.7439 18.6495 12.8705 18.6495V18.6496Z" fill="#292929"/>
      <path d="M17.4823 23.3012C17.3673 23.3012 17.2527 23.2594 17.1676 23.1766L12.6097 18.7338C12.4464 18.5746 12.4549 18.3244 12.6286 18.1748C12.8023 18.0254 13.0753 18.0332 13.2387 18.1921L17.7966 22.635C17.9599 22.7942 17.9514 23.0444 17.7777 23.1939C17.6944 23.2656 17.5881 23.3012 17.4821 23.3012L17.4823 23.3012Z" fill="#292929"/>
      <path d="M4.03194 15.2112H6.11574V26.3248C6.11574 26.7138 6.42137 27.0194 6.81033 27.0194H24.8699C25.2589 27.0194 25.5645 26.7138 25.5645 26.3248V15.2112H27.6483C28.2595 15.2112 28.5652 14.461 28.1483 14.0166L16.3401 2.20844C16.0622 1.93052 15.6178 1.93052 15.3676 2.20844L3.53213 14.0166C3.11525 14.461 3.42088 15.2112 4.03214 15.2112H4.03194ZM15.8401 3.68089L25.9813 13.822H24.87C24.481 13.822 24.1754 14.1277 24.1754 14.5166V25.6302H7.50503V14.5166C7.50503 14.1277 7.1994 13.822 6.81043 13.822H5.69917L15.8401 3.68089Z" fill="#292929"/>
    </svg>

  ),
  purchase: (
    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="30" height="30" rx="4" fill="#0BB2F4"/>
      <path d="M23.2579 8.47911C23.2217 8.15261 22.9676 7.89851 22.6411 7.89851H19.6295C19.6295 5.21341 17.4161 3 14.731 3C12.0458 3 9.83245 5.17719 9.83245 7.89851H6.82085C6.49435 7.89851 6.24024 8.15262 6.20405 8.47911L4.75281 24.6619V24.7345C4.75281 26.5488 6.42201 28 8.45387 28H21.0082C23.0401 28 24.7093 26.5488 24.7093 24.7345V24.6619L23.2579 8.47911ZM14.7311 4.27007C16.7268 4.27007 18.3595 5.9028 18.3595 7.8985H11.1026C11.1026 5.90306 12.7354 4.27007 14.7311 4.27007ZM21.0082 26.7663H8.45381C7.11135 26.7663 6.02276 25.8592 5.9866 24.7706L7.36547 9.16839H9.83267V11.3456C9.83267 11.6721 10.123 11.9624 10.4495 11.9624C10.776 11.9624 11.0663 11.6721 11.0663 11.3456V9.16839H18.3594V11.3456C18.3594 11.6721 18.6497 11.9624 18.9762 11.9624C19.3027 11.9624 19.593 11.6721 19.593 11.3456V9.16839H22.0602L23.4391 24.7706C23.4393 25.8592 22.351 26.7663 21.0083 26.7663H21.0082Z" fill="#292929"/>
    </svg>

  ),
  pcost: (
    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="30" height="30" rx="4" fill="#FAD85D"/>
      <path d="M18.9397 13.089H12.8071C12.5688 13.089 12.3755 12.912 12.3755 12.6936C12.3755 12.4752 12.5687 12.2981 12.8071 12.2981H18.9394C19.1778 12.2981 19.3711 12.4751 19.3711 12.6936C19.3711 12.912 19.1778 13.089 18.9396 13.089H18.9397Z" fill="#292929"/>
      <path d="M18.9397 15.9616H12.8071C12.5688 15.9616 12.3755 15.7846 12.3755 15.5661C12.3755 15.3477 12.5687 15.1707 12.8071 15.1707H18.9394C19.1778 15.1707 19.3711 15.3477 19.3711 15.5661C19.3711 15.7846 19.1778 15.9616 18.9396 15.9616H18.9397Z" fill="#292929"/>
      <path d="M12.8705 18.6496C12.6321 18.6496 12.4388 18.4726 12.4388 18.2541C12.4388 18.0357 12.632 17.8586 12.8705 17.8586C15.1801 17.8586 17.1313 16.7554 17.1313 15.4496C17.1313 14.1437 15.18 13.0404 12.8705 13.0404C12.6321 13.0404 12.4388 12.8634 12.4388 12.645C12.4388 12.4266 12.632 12.2495 12.8705 12.2495C15.7439 12.2495 17.9947 13.6552 17.9947 15.4495C17.9947 17.2438 15.7439 18.6495 12.8705 18.6495V18.6496Z" fill="#292929"/>
      <path d="M17.4823 23.3012C17.3673 23.3012 17.2527 23.2594 17.1676 23.1766L12.6097 18.7338C12.4464 18.5746 12.4549 18.3244 12.6286 18.1748C12.8023 18.0254 13.0753 18.0332 13.2387 18.1921L17.7966 22.635C17.9599 22.7942 17.9514 23.0444 17.7777 23.1939C17.6944 23.2656 17.5881 23.3012 17.4821 23.3012L17.4823 23.3012Z" fill="#292929"/>
      <path d="M4.03194 15.2112H6.11574V26.3248C6.11574 26.7138 6.42137 27.0194 6.81033 27.0194H24.8699C25.2589 27.0194 25.5645 26.7138 25.5645 26.3248V15.2112H27.6483C28.2595 15.2112 28.5652 14.461 28.1483 14.0166L16.3401 2.20844C16.0622 1.93052 15.6178 1.93052 15.3676 2.20844L3.53213 14.0166C3.11525 14.461 3.42088 15.2112 4.03214 15.2112H4.03194ZM15.8401 3.68089L25.9813 13.822H24.87C24.481 13.822 24.1754 14.1277 24.1754 14.5166V25.6302H7.50503V14.5166C7.50503 14.1277 7.1994 13.822 6.81043 13.822H5.69917L15.8401 3.68089Z" fill="#292929"/>
    </svg>
  ),
  cancel: (
    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="30" height="30" rx="4" fill="#0BF4C8"/>
      <path d="M10.7369 19.3687C10.7369 19.1802 10.5868 19.0278 10.401 19.0278H5.19609C5.01033 19.0278 4.86023 19.1802 4.86023 19.3687C4.86023 19.5573 5.01033 19.7096 5.19609 19.7096H10.4048C10.5865 19.7096 10.7368 19.5573 10.7368 19.3687H10.7369Z" fill="#292929"/>
      <path d="M5.19615 20.4636C5.01039 20.4636 4.86029 20.616 4.86029 20.8045C4.86029 20.9931 5.01039 21.1454 5.19615 21.1454H8.02568C8.21144 21.1454 8.36154 20.9931 8.36154 20.8045C8.36154 20.616 8.21144 20.4636 8.02568 20.4636H5.19615Z" fill="#292929"/>
      <path d="M22.5175 13.1831C19.5457 13.1831 17.1272 15.638 17.1272 18.6543C17.1272 21.6708 19.5457 24.1256 22.5175 24.1256C25.4893 24.1256 27.9078 21.6707 27.9078 18.6543C27.9078 15.638 25.4893 13.1831 22.5175 13.1831ZM22.5175 23.4439C19.917 23.4439 17.7988 21.2938 17.7988 18.6543C17.7988 16.0148 19.9171 13.8648 22.5175 13.8648C25.118 13.8648 27.2362 16.0149 27.2362 18.6543C27.2364 21.2937 25.122 23.4439 22.5175 23.4439Z" fill="#292929"/>
      <path d="M25.7108 16.733C25.7108 16.3801 25.5764 16.0471 25.3315 15.7984C24.8295 15.2889 24.0075 15.2889 23.4977 15.7984L22.5216 16.7891L21.5415 15.7943C21.0395 15.293 20.2175 15.293 19.7117 15.7984C19.4666 16.0471 19.3284 16.3801 19.3284 16.733C19.3284 17.0859 19.4628 17.4189 19.7117 17.6677L20.6838 18.6584L19.7117 19.6451C19.4666 19.8939 19.3284 20.2269 19.3284 20.5798C19.3284 20.9327 19.4628 21.2618 19.7117 21.5144C20.178 21.9877 21.083 21.9877 21.5455 21.5144L22.5216 20.5236L23.4977 21.5144C23.7388 21.7591 24.0746 21.8994 24.4145 21.8994C24.7544 21.8994 25.0903 21.7591 25.3313 21.5144C25.5764 21.2657 25.7107 20.9327 25.7107 20.5798C25.7107 20.2269 25.5762 19.8939 25.3313 19.6451L24.3592 18.6584L25.3313 17.6677C25.5726 17.415 25.7109 17.0861 25.7109 16.733L25.7108 16.733ZM24.8533 17.1823L23.644 18.4137C23.5135 18.5461 23.5135 18.7628 23.644 18.8952L24.8533 20.1227C24.972 20.2431 25.0351 20.4034 25.0351 20.572C25.0351 20.7404 24.9718 20.9009 24.8533 21.0213C24.6201 21.2581 24.2013 21.2581 23.968 21.0213L22.7548 19.7899C22.6877 19.7218 22.6047 19.6896 22.5178 19.6896C22.4308 19.6896 22.3438 19.7218 22.2807 19.7899L21.0675 21.0213C20.8501 21.242 20.3996 21.242 20.1862 21.0213C20.0676 20.9009 20.0004 20.7406 20.0004 20.572C20.0004 20.4036 20.0676 20.2431 20.1862 20.1227L21.3994 18.8952C21.4627 18.8309 21.4982 18.7428 21.4982 18.6546C21.4982 18.5622 21.4627 18.478 21.3994 18.4139L20.1862 17.1825C20.0676 17.0621 20.0004 16.9018 20.0004 16.7332C20.0004 16.5648 20.0676 16.4043 20.1822 16.2839C20.4273 16.0392 20.8224 16.0392 21.0635 16.2799L22.2807 17.5113C22.4111 17.6437 22.6246 17.6437 22.755 17.5113L23.9644 16.2837C24.2095 16.039 24.6086 16.035 24.8497 16.2837C24.9684 16.4041 25.0315 16.5644 25.0315 16.733C25.0351 16.9015 24.9718 17.0619 24.8534 17.1824L24.8533 17.1823Z" fill="#292929"/>
      <path d="M18.293 23.1833H5.52029C4.4494 23.1833 3.57991 22.3008 3.57991 21.2138V7.65558C3.57991 6.56861 4.4494 5.68607 5.52029 5.68607H9.64214V9.90601C9.64214 10.1788 9.78042 10.4194 10.0137 10.5559C10.1283 10.624 10.2547 10.6561 10.3812 10.6561C10.5076 10.6561 10.6381 10.6201 10.7527 10.5518L12.2426 9.66538C12.2624 9.65337 12.2901 9.65337 12.3097 9.66538L13.7996 10.5479C14.0289 10.6844 14.3094 10.6883 14.5387 10.552C14.7719 10.4155 14.9102 10.1749 14.9102 9.90213L14.91 5.682H19.0319C20.1027 5.682 20.9762 6.56455 20.9762 7.65152V12.2766C20.9762 12.4652 21.1263 12.6175 21.3121 12.6175C21.4979 12.6175 21.648 12.4652 21.648 12.2766L21.6481 7.65152C21.6481 6.18743 20.4745 5 19.032 5L5.52014 5.00018C4.0777 5.00018 2.90784 6.19149 2.90784 7.6517V21.21C2.90784 22.674 4.08152 23.8615 5.52014 23.8615L18.2929 23.8613C18.4786 23.8613 18.6287 23.7089 18.6287 23.5204C18.6289 23.3357 18.4786 23.1834 18.2929 23.1834L18.293 23.1833ZM14.2385 9.90213C14.2385 9.92614 14.2266 9.94627 14.2068 9.95827C14.1832 9.97027 14.1633 9.97027 14.1397 9.95827L12.6498 9.07572C12.5352 9.00758 12.4047 8.97139 12.2783 8.97139C12.1478 8.97139 12.0214 9.0074 11.9067 9.07572L10.4168 9.96215C10.397 9.97415 10.3734 9.97415 10.3497 9.96215C10.3261 9.95014 10.318 9.93001 10.318 9.90601V5.68219H14.2423V9.90213H14.2385Z" fill="#292929"/>
      <path d="M13.6852 18.4379H16.1434C16.3291 18.4379 16.4792 18.2856 16.4792 18.097C16.4792 17.9085 16.3291 17.7561 16.1434 17.7561H13.6852C13.2109 17.7561 12.8237 18.1493 12.8237 18.6346V20.6403C12.8237 21.1218 13.2111 21.5147 13.6852 21.5147H16.6175C16.8033 21.5147 16.9534 21.3624 16.9534 21.1738C16.9534 20.9853 16.8033 20.8329 16.6175 20.8329H13.6852C13.5824 20.8329 13.4995 20.7487 13.4995 20.6444V18.6386C13.4995 18.5262 13.5824 18.4379 13.6852 18.4379Z" fill="#292929"/>
    </svg>

  ),
  ret: (
    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="30" height="30" rx="4" fill="#F2A0FF"/>
      <path d="M6.96191 20.0977V20.1094C7.15554 20.1543 7.30078 20.3269 7.30078 20.5352V27.6611C7.30078 27.9036 7.10379 28.0986 6.8623 28.0986H3.62305C3.38118 28.0986 3.18555 27.9037 3.18555 27.6611V20.5352C3.18555 20.2926 3.38133 20.0977 3.62305 20.0977H6.96191ZM13.8906 15.7236C14.132 15.7236 14.328 15.9186 14.3281 16.1611V27.6611C14.3281 27.9036 14.1321 28.0986 13.8906 28.0986H10.6514C10.4099 28.0986 10.2139 27.9038 10.2139 27.6611V16.1611C10.214 15.9189 10.41 15.7236 10.6514 15.7236H13.8906ZM20.9189 12.7539C21.1605 12.7539 21.3566 12.9507 21.3564 13.1914V27.6611C21.3564 27.9035 21.1603 28.0985 20.9189 28.0986H17.6797C17.4382 28.0986 17.2412 27.9038 17.2412 27.6611V13.1914C17.2414 12.9508 17.438 12.7539 17.6797 12.7539H20.9189ZM27.9473 9.08301C28.1888 9.08304 28.3845 9.27889 28.3848 9.51953V27.6611C28.3848 27.9035 28.1889 28.0986 27.9473 28.0986H24.708C24.4661 28.0986 24.2695 27.9037 24.2695 27.6611V9.51953C24.2698 9.27865 24.4665 9.08301 24.708 9.08301H27.9473ZM25.1455 27.2236H27.5088V9.95898H25.1455V27.2236ZM18.1172 27.2236H20.4814V13.6309H18.1172V27.2236ZM11.0889 27.2236H13.4531V16.5986H11.0889V27.2236ZM4.06055 27.2236H6.4248V20.9727H4.06055V27.2236ZM26.0205 2.90039H26.0615C26.1757 2.90641 26.2847 2.95678 26.3623 3.04199H26.3613C26.4501 3.13883 26.491 3.27086 26.4717 3.40137L26.0869 6.04199C26.0552 6.26021 25.8679 6.41601 25.6543 6.41602C25.6327 6.41602 25.611 6.41478 25.5889 6.41113V6.41016C25.351 6.37408 25.1862 6.15461 25.2207 5.91602L25.4287 4.48145C19.3462 9.94761 12.0666 14.1865 3.7666 17.0762L3.76562 17.0752C3.71708 17.0926 3.66861 17.1006 3.62207 17.1006C3.44164 17.1004 3.27312 16.9875 3.20996 16.8066L3.18652 16.7402L3.19336 16.7344C3.15881 16.5279 3.27488 16.3213 3.47852 16.249L3.47949 16.248C11.6646 13.3988 18.8398 9.22262 24.832 3.84082L23.3975 3.91992C23.1577 3.9323 22.9498 3.74837 22.9365 3.50586C22.9234 3.26548 23.1079 3.05761 23.3496 3.04492L26.0146 2.90039L26.0205 2.89941V2.90039Z" fill="#292929" stroke="#F2A0FF" stroke-width="0.2"/>
    </svg>

  ),
  stock: (
    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="30" height="30" rx="4" fill="#FAD85D"/>
      <path d="M23.4381 2.90039C23.9369 2.90039 24.4091 3.11848 24.7506 3.48828L24.8893 3.65527L24.8903 3.65625L27.4508 7.23047L27.5641 7.38867H27.5074C27.5108 7.41816 27.5105 7.44945 27.4996 7.48242V24.9795C27.4996 25.8673 26.7711 26.6287 25.8512 26.6289H3.96057C3.04153 26.6289 2.31213 25.8983 2.31213 24.9795V7.46777C2.31213 7.38002 2.35458 7.29791 2.38147 7.24414L2.38538 7.2373L2.39026 7.23047L4.94885 3.65918C5.26661 3.18266 5.83592 2.90039 6.40295 2.90039H23.4381ZM3.10706 24.9795C3.10706 25.4328 3.48181 25.833 3.96057 25.833H25.8805C26.3338 25.833 26.734 25.4583 26.734 24.9795V7.86523H18.5944V12.8584C18.5943 13.103 18.4565 13.3416 18.2526 13.4775L18.2448 13.4824L18.236 13.4863C18.0126 13.5819 17.7685 13.6219 17.5221 13.4814V13.4805L14.9205 12.0781L12.317 13.4824C12.2107 13.5505 12.0763 13.5839 11.9723 13.584C11.8385 13.584 11.698 13.5506 11.5885 13.4775C11.3867 13.3431 11.2468 13.1352 11.2467 12.8584V7.86523H3.10706V24.9795ZM12.0426 7.54102V12.7803L14.8727 11.2217L14.9205 11.1953L14.9684 11.2217L17.7985 12.751V7.50977L16.7213 3.69531H13.15L12.0426 7.54102ZM18.5104 7.06934H26.3707L24.2506 4.10059V4.09961C24.0592 3.85605 23.761 3.69547 23.4391 3.69531H17.5553L18.5104 7.06934ZM6.40295 3.69531C6.07406 3.69531 5.7791 3.83171 5.59143 4.09961L5.59045 4.10059L3.47034 7.06934H11.361L12.316 3.69531H6.40295Z" fill="#292929" stroke="#292929" stroke-width="0.2"/>
      <path d="M17.4032 7.07007V7.86499H12.4384V7.07007H17.4032Z" fill="#292929" stroke="#292929" stroke-width="0.2"/>
    </svg>

  ),
  receive: (
    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="30" height="30" rx="4" fill="#0BF4C8"/>
      <path d="M14.8119 2C12.3255 2 9.94094 2.98774 8.18307 4.74572C6.42487 6.50391 5.43713 8.88846 5.43713 11.3751C5.43713 16.375 13.987 25.7498 14.3497 26.1751C14.469 26.3038 14.6368 26.3762 14.8122 26.3752C14.9875 26.3762 15.1554 26.3038 15.2746 26.1751L16.0621 25.2813V25.7501C16.0621 26.0816 16.1939 26.3996 16.4283 26.634C16.6627 26.8684 16.9805 27 17.3122 27H24.8121C25.1436 27 25.4615 26.8684 25.6958 26.634C25.9304 26.3996 26.062 26.0816 26.062 25.7501V18.2502C26.062 17.9187 25.9304 17.6006 25.6958 17.3663C25.4615 17.1319 25.1436 17.0003 24.8121 17.0003H22.1683C23.5057 14.6877 24.1871 12.8004 24.1871 11.3753C24.1871 9.72968 23.7539 8.11297 22.9311 6.68787C22.1083 5.26262 20.9247 4.07924 19.4996 3.2564C18.0745 2.43355 16.4578 2.00043 14.8122 2.00043L14.8119 2ZM24.812 25.7495H17.3121V18.2496H19.187V20.7497C19.1877 20.9663 19.3005 21.1672 19.485 21.2804C19.6696 21.3938 19.8998 21.4034 20.0932 21.3059L21.0618 20.8246L22.0305 21.3059H22.0307C22.1178 21.3505 22.214 21.3741 22.312 21.3745C22.4289 21.3749 22.5438 21.3425 22.6432 21.2808C22.8263 21.1663 22.9374 20.9656 22.937 20.7497V18.2496H24.812L24.812 25.7495ZM21.6871 18.2496V19.7371L21.3745 19.5684C21.1976 19.4793 20.9888 19.4793 20.812 19.5684L20.4681 19.7371V18.2496H21.6871ZM19.8121 16.9997H17.3121C16.9804 16.9997 16.6625 17.1313 16.4282 17.3657C16.1938 17.6001 16.0619 17.9181 16.0619 18.2496V23.3495C15.5557 23.9746 15.1182 24.4682 14.812 24.8121C13.0308 22.7808 6.68695 15.2936 6.68695 11.3749C6.68695 8.472 8.23568 5.79014 10.7495 4.33837C13.2634 2.8866 16.3605 2.88692 18.8741 4.33837C21.3876 5.78981 22.9367 8.47189 22.9367 11.3749C22.9367 12.6811 22.1618 14.6249 20.7116 16.9998L19.8121 16.9997Z" fill="#292929"/>
      <path d="M14.8119 6.99976C13.6516 6.99976 12.5389 7.46076 11.7184 8.28106C10.8979 9.10155 10.4369 10.2144 10.4369 11.3748C10.4369 12.5349 10.8979 13.6478 11.7184 14.4683C12.5389 15.2888 13.6516 15.7496 14.8119 15.7496C15.9723 15.7496 17.0849 15.2888 17.9054 14.4683C18.7259 13.6478 19.1869 12.5349 19.1869 11.3748C19.1869 10.2144 18.7259 9.10155 17.9054 8.28106C17.0849 7.46079 15.9723 6.99976 14.8119 6.99976ZM14.8119 14.4997C13.983 14.4997 13.1882 14.1705 12.6023 13.5844C12.0162 12.9984 11.687 12.2035 11.687 11.3748C11.687 10.5459 12.0162 9.7511 12.6023 9.16498C13.1883 8.57902 13.983 8.24967 14.8119 8.24967C15.6408 8.24967 16.4356 8.57904 17.0215 9.16498C17.6076 9.7511 17.9368 10.5459 17.9368 11.3748C17.9368 12.2035 17.6076 12.9985 17.0215 13.5844C16.4355 14.1705 15.6408 14.4997 14.8119 14.4997Z" fill="#292929"/>
    </svg>

  ),
  supplier: (
    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="30" height="30" rx="4" fill="#FAD85D"/>
      <path d="M14.8879 4C8.88448 4 4 8.88448 4 14.8879C4 17.5721 4.97821 20.0305 6.59438 21.9305C6.61507 21.9624 6.63881 21.9926 6.66653 22.0203C6.6728 22.0266 6.67982 22.0306 6.68609 22.0364C8.68372 24.3253 11.6187 25.7756 14.888 25.7756C18.1572 25.7756 21.0921 24.3253 23.0899 22.0364C23.0961 22.0308 23.1035 22.0264 23.1094 22.0203C23.1371 21.9926 23.1611 21.962 23.1816 21.9305C24.7977 20.0303 25.7759 17.5718 25.7759 14.8879C25.7759 8.88448 20.8913 4 14.8879 4ZM14.8879 24.687C12.1052 24.687 9.59171 23.5193 7.80638 21.6504L8.55221 20.9046C9.27275 20.1842 10.2304 19.7874 11.2488 19.7874H18.5271C19.5454 19.7874 20.5031 20.1842 21.2235 20.9044L21.9693 21.6502C20.1841 23.5191 17.6707 24.687 14.8879 24.687ZM22.6795 20.8209L21.9933 20.1347C21.0673 19.2087 19.8364 18.6985 18.5271 18.6985H11.2488C9.93939 18.6985 8.70867 19.2087 7.78267 20.1347L7.09648 20.8209C5.83821 19.1728 5.08879 17.1165 5.08879 14.8879C5.08879 9.48482 9.48448 5.08884 14.8879 5.08884C20.291 5.08884 24.687 9.48453 24.687 14.8879C24.687 17.1166 23.9376 19.1729 22.6795 20.8209ZM14.8879 8.8996C12.4866 8.8996 10.5326 10.8533 10.5326 13.2548C10.5326 15.6561 12.4864 17.6101 14.8879 17.6101C17.2891 17.6101 19.2431 15.6564 19.2431 13.2548C19.2431 10.8533 17.2892 8.8996 14.8879 8.8996ZM14.8879 16.5211C13.0868 16.5211 11.6216 15.0559 11.6216 13.2548C11.6216 11.4537 13.0868 9.98848 14.8879 9.98848C16.689 9.98848 18.1542 11.4537 18.1542 13.2548C18.1542 15.0559 16.689 16.5211 14.8879 16.5211Z" fill="#292929"/>
    </svg>

  ),
  category: (
    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="30" height="30" rx="4" fill="#0BF4C8"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M6.68919 2C5.75621 2 5 2.75621 5 3.68919V25.3108C5 26.2438 5.75621 27 6.68919 27H22.9054C23.8384 27 24.5946 26.2438 24.5946 25.3108V3.68919C24.5946 2.75621 23.8384 2 22.9054 2H6.68919ZM9.48619 2.67562H6.68919C6.12927 2.67562 5.67561 3.12925 5.67561 3.68919V25.3108C5.67561 25.8707 6.12925 26.3244 6.68919 26.3244H22.9054C23.4653 26.3244 23.919 25.8707 23.919 25.3108V3.68919C23.919 3.12927 23.4653 2.67562 22.9054 2.67562H20.1084L19.6637 4.00965C19.5259 4.42347 19.1384 4.7027 18.7022 4.7027H10.8927C10.4565 4.7027 10.0691 4.42345 9.93122 4.00965L9.48619 2.67562ZM19.3963 2.67562H10.1987L10.5722 3.79591C10.6181 3.93401 10.7473 4.02685 10.8927 4.02685H18.7022C18.8476 4.02685 18.9767 3.934 19.0226 3.79591L19.3963 2.67562Z" fill="#292929"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M8.04053 9.43227C8.04053 8.87259 8.49416 8.4187 9.0541 8.4187H10.4053C10.9653 8.4187 11.4189 8.87257 11.4189 9.43227V10.7835C11.4189 11.3434 10.9653 11.7971 10.4053 11.7971H9.0541C8.49418 11.7971 8.04053 11.3434 8.04053 10.7835V9.43227ZM9.0541 9.09434C8.86746 9.09434 8.71617 9.24563 8.71617 9.43227V10.7835C8.71617 10.9701 8.86746 11.1214 9.0541 11.1214H10.4053C10.592 11.1214 10.7433 10.9701 10.7433 10.7835V9.43227C10.7433 9.24563 10.592 9.09434 10.4053 9.09434H9.0541Z" fill="#292929"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M8.04053 14.4999C8.04053 13.9402 8.49416 13.4863 9.0541 13.4863H10.4053C10.9653 13.4863 11.4189 13.9402 11.4189 14.4999V15.8511C11.4189 16.4111 10.9653 16.8647 10.4053 16.8647H9.0541C8.49418 16.8647 8.04053 16.4111 8.04053 15.8511V14.4999ZM9.0541 14.162C8.86746 14.162 8.71617 14.3133 8.71617 14.4999V15.8511C8.71617 16.0378 8.86746 16.1891 9.0541 16.1891H10.4053C10.592 16.1891 10.7433 16.0378 10.7433 15.8511V14.4999C10.7433 14.3133 10.592 14.162 10.4053 14.162H9.0541Z" fill="#292929"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M8.04053 19.5675C8.04053 19.0078 8.49416 18.554 9.0541 18.554H10.4053C10.9653 18.554 11.4189 19.0078 11.4189 19.5675V20.9188C11.4189 21.4787 10.9653 21.9323 10.4053 21.9323H9.0541C8.49418 21.9323 8.04053 21.4787 8.04053 20.9188V19.5675ZM9.0541 19.2296C8.86746 19.2296 8.71617 19.3809 8.71617 19.5675V20.9188C8.71617 21.1054 8.86746 21.2567 9.0541 21.2567H10.4053C10.592 21.2567 10.7433 21.1054 10.7433 20.9188V19.5675C10.7433 19.3809 10.592 19.2296 10.4053 19.2296H9.0541Z" fill="#292929"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7703 10.108C12.7703 9.92132 12.9216 9.77026 13.1082 9.77026H21.5541C21.7408 9.77026 21.8921 9.92132 21.8921 10.108C21.8921 10.2946 21.7408 10.4459 21.5541 10.4459H13.1082C12.9216 10.4459 12.7703 10.2946 12.7703 10.108Z" fill="#292929"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7703 15.1756C12.7703 14.9889 12.9216 14.8379 13.1082 14.8379H21.5541C21.7408 14.8379 21.8921 14.9889 21.8921 15.1756C21.8921 15.3622 21.7408 15.5135 21.5541 15.5135H13.1082C12.9216 15.5135 12.7703 15.3622 12.7703 15.1756Z" fill="#292929"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M12.7703 20.2432C12.7703 20.0566 12.9216 19.9055 13.1082 19.9055H21.5541C21.7408 19.9055 21.8921 20.0566 21.8921 20.2432C21.8921 20.4299 21.7408 20.5812 21.5541 20.5812H13.1082C12.9216 20.5812 12.7703 20.4299 12.7703 20.2432Z" fill="#292929"/>
    </svg>

  )
};

export default function Home() {
  const [data, setData] = useState(null);
  const [view, setView] = useState('monthly');
  const [products, setProducts] = useState([]);

  useEffect(() => {
    let mounted = true;
    api
      .dashboard()
      .then((res) => {
        // Some api helpers return axios response, some return payload directly.
        // Normalize so dashboard doesn't show zeros just due to shape mismatch.
        const payload = res && typeof res === 'object' && 'data' in res ? res.data : res;
        if (mounted) setData(payload);
      })
      .catch(() => {
        if (mounted) setData(null);
      });

    // Fetch products list (used as a reliable fallback for category count and top-products)
    // This is intentionally defensive because different project versions expose different api helpers.
    (async () => {
      try {
        let res;

        // 1) api.products() or api.products.list()
        if (typeof api?.products === 'function') {
          res = await api.products();
        } else if (typeof api?.products?.list === 'function') {
          res = await api.products.list();
        } else if (typeof api?.listProducts === 'function') {
          res = await api.listProducts();
        } else if (typeof api?.getProducts === 'function') {
          res = await api.getProducts();
        } else if (typeof api?.get === 'function') {
          // 2) axios-style instance
          // try both plural and singular routes
          try {
            res = await api.get('/products');
          } catch {
            res = await api.get('/product');
          }
        }

        const payload = res?.data ?? res;
        const list = payload?.products ?? payload?.data ?? payload ?? [];
        if (!mounted) return;
        setProducts(Array.isArray(list) ? list : []);
      } catch {
        if (!mounted) return;
        setProducts([]);
      }
    })();

    return () => {
      mounted = false;
    };
  }, []);

  const series = useMemo(() => {
    const s = data?.series?.[view] || [];
      return s.map((d) => ({
        label: d.label,
        sales: Number(d.sales || 0),
        purchase: Number(d.purchase || 0)
      }));
    }, [data, view]);

  const maxVal = useMemo(() => {
    if (!series.length) return 1000;
    const raw = Math.max(...series.map((d) => Math.max(d.sales, d.purchase)));
    // pick a clean step so y-axis labels don't look random
    const step = raw <= 5000 ? 1000 : raw <= 25000 ? 5000 : 10000;
    return Math.max(step, Math.ceil(raw / step) * step);
  }, [series]);

  const yTicks = useMemo(() => {
    // 6 labels including 0 and max (0, 20%, 40%, 60%, 80%, 100%)
    const steps = 5;
    return Array.from({ length: steps + 1 }, (_, i) => (maxVal * i) / steps).reverse();
  }, [maxVal]);

  const root = data || {};

  const SALES_COST_HARDCODED = 17432;
  const PURCHASE_CANCEL_HARDCODED = 5;
  const PURCHASE_RETURN_HARDCODED = 17432;
  const TO_BE_RECEIVED_HARDCODED = 200;
  const SUPPLIERS_HARDCODED = 31;

  const salesSrc = root.salesOverview || root.sales || root.totals || root;
  const purchaseSrc = root.purchaseOverview || root.purchase || root.purchases || root.totals || root;
  const invSrc = root.inventorySummary || root.inventory || root.stock || root;
  const prodSrc = root.productSummary || root.products || root;

  const sales = {
    salesQty: pickNumber(salesSrc, ['salesQty', 'soldQty', 'qtySold', 'count', 'sales'], 0),
    revenue: pickNumber(salesSrc, ['revenue', 'salesRevenue', 'totalRevenue', 'amount'], 0),
    profit: pickNumber(salesSrc, ['profit', 'totalProfit'], 0),
    costHardcoded: SALES_COST_HARDCODED
  };

  const purchase = {
    purchaseQty: pickNumber(purchaseSrc, ['purchaseQty', 'purchasedQty', 'qty', 'count', 'purchase'], 0),
    cost: pickNumber(purchaseSrc, ['cost', 'purchaseCost', 'totalPurchaseCost', 'totalCost'], 0),
    cancelHardcoded: PURCHASE_CANCEL_HARDCODED,
    returnHardcoded: PURCHASE_RETURN_HARDCODED
  };

  const inv = {
    inStock: pickNumber(invSrc, ['inStock', 'totalStockQty', 'stockQty', 'qty', 'totalQty'], 0),
    toBeReceivedHardcoded: TO_BE_RECEIVED_HARDCODED
  };

  const prod = {
    suppliersHardcoded: SUPPLIERS_HARDCODED,
    categoriesCount: (() => {
      // Prefer explicit count from backend, fallback to counting products list
      const explicit = pickNumber(prodSrc, [
        'categoriesCount',
        'categoryCount',
        'numCategories',
        'categories',
        'numberOfCategories',
        'uniqueCategories'
      ], 0);
      if (explicit) return explicit;
      const list = pickArray(root, ['products', 'productList', 'items', 'allProducts']);
      if (list.length) {
        const set = new Set(list.map(p => p?.category || p?.categoryName || p?.cat).filter(Boolean));
        return set.size;
      }
      return 0;
    })()
  };

  const topSelling = root.topSelling || root.topProducts || root.topSellingProducts || [];

  // Profit display rule (matches the design): start with a base value of 800,
  // and only add extra profit when the computed profit is > 0.
  const rawProfit = Number(sales?.profit || 0);
  const profitDisplay = 800 + Math.max(0, rawProfit);

  return (
    <div className={styles.page}>

      <header className={styles.topbar}>
        <div className={styles.pageTitle}>Home</div>
      </header>

      <div className={styles.headerDivider} aria-hidden />
      

      <div className={styles.grid}>
        {/* Left column: Sales, Purchase, Graph */}
        <div className={styles.leftCol}>
          <div className={styles.card}>
            <h3 className={styles.cardTitle}>Sales Overview</h3>
            <div className={styles.metricsRow}>
              <div className={styles.metric}>
                <div className={styles.iconBox} style={{ background: '#76D4FF' }}>{Icons.sales}</div>
                <div className={styles.metricValue}>{nf.format(sales?.salesQty || 0)}</div>
                <div className={styles.metricLabel}>Sales</div>
              </div>
              <div className={styles.metric}>
                <div className={styles.iconBox} style={{ background: '#FFE28A' }}>{Icons.revenue}</div>
                <div className={styles.metricValue}>{formatINR(sales?.revenue || 0)}</div>
                <div className={styles.metricLabel}>Revenue</div>
              </div>
              <div className={styles.metric}>
                <div className={styles.iconBox} style={{ background: '#62F2C8' }}>{Icons.profit}</div>
                <div className={styles.metricValue}>{formatINR(profitDisplay)}</div>
                <div className={styles.metricLabel}>Profit</div>
              </div>
              <div className={styles.metric}>
                <div className={styles.iconBox} style={{ background: '#E7A1FF' }}>{Icons.cost}</div>
                <div className={styles.metricValue}>{formatINR(sales?.costHardcoded ?? SALES_COST_HARDCODED)}</div>
                <div className={styles.metricLabel}>Cost</div>
              </div>
            </div>
          </div>

          <div className={styles.card}>
            <h3 className={styles.cardTitle}>Purchase Overview</h3>
            <div className={styles.metricsRow}>
              <div className={styles.metric}>
                <div className={styles.iconBox} style={{ background: '#76D4FF' }}>{Icons.purchase}</div>
                <div className={styles.metricValue}>{nf.format(purchase?.purchaseQty || 0)}</div>
                <div className={styles.metricLabel}>Purchase</div>
              </div>
              <div className={styles.metric}>
                <div className={styles.iconBox} style={{ background: '#FFE28A' }}>{Icons.pcost}</div>
                <div className={styles.metricValue}>{formatINR(purchase?.cost || 0)}</div>
                <div className={styles.metricLabel}>Cost</div>
              </div>
              <div className={styles.metric}>
                <div className={styles.iconBox} style={{ background: '#62F2C8' }}>{Icons.cancel}</div>
                <div className={styles.metricValue}>{nf.format(purchase?.cancelHardcoded ?? PURCHASE_CANCEL_HARDCODED)}</div>
                <div className={styles.metricLabel}>Cancel</div>
              </div>
              <div className={styles.metric}>
                <div className={styles.iconBox} style={{ background: '#E7A1FF' }}>{Icons.ret}</div>
                <div className={styles.metricValue}>{formatINR(purchase?.returnHardcoded ?? PURCHASE_RETURN_HARDCODED)}</div>
                <div className={styles.metricLabel}>Return</div>
              </div>
            </div>
          </div>

          {/* Chart */}
          <div className={styles.chartCard}>
            <div className={styles.chartHeader}>
              <h3 className={styles.chartTitle}>Sales &amp; Purchase</h3>
              <div className={styles.periodSelectWrap}>
                <span className={styles.calendarIcon} aria-hidden>
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7 2v3M17 2v3M3.5 9h17" stroke="#6E7190" strokeWidth="2" strokeLinecap="round"/>
                    <path d="M6 5h12a3 3 0 0 1 3 3v11a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3z" stroke="#6E7190" strokeWidth="2"/>
                  </svg>
                </span>
                <select
                  className={styles.periodSelect}
                  value={view}
                  onChange={(e) => setView(e.target.value)}
                >
                  <option value="monthly">Monthly</option>
                  <option value="weekly">Weekly</option>
                </select>
              </div>
            </div>

            <div className={styles.chartArea}>
              <div className={styles.yAxis}>
                {yTicks.map((t) => (
                  <div key={t} className={styles.yTick}>
                    {t === 0 ? '0' : nf.format(t)}
                  </div>
                ))}
              </div>

              <div className={`${styles.bars} ${view === 'weekly' ? styles.bars7 : ''}`}>
                {series.map((d) => {
                  const salesH = Math.max(2, (d.sales / maxVal) * 270);
                  const purH = Math.max(2, (d.purchase / maxVal) * 270);
                  return (
                    <div key={d.label} className={styles.barGroup}>
                      <div className={styles.barPair}>
                        <div className={styles.barWrap}>
                          <div
                            className={styles.barPurchase}
                            style={{ height: `${purH}px` }}
                            title={`Purchase: ${formatINR(d.purchase)}`}
                          />
                        </div>
                        <div className={styles.barWrap}>
                          <div
                            className={styles.barSales}
                            style={{ height: `${salesH}px` }}
                            title={`Sales: ${formatINR(d.sales)}`}
                          />
                        </div>
                      </div>
                      <div className={styles.barLabel}>{d.label}</div>
                    </div>
                  );
                })}
              </div>
            </div>
            <div className={styles.legend}>
              <div className={styles.legendItem}>
                <span className={`${styles.dot} ${styles.dotPurchase}`} />
                Purchase
              </div>
              <div className={styles.legendItem}>
                <span className={`${styles.dot} ${styles.dotSales}`} />
                Sales
              </div>
            </div>
          </div>
        </div>

        {/* Right column: Inventory, Product, Top Products */}
        <div className={styles.rightCol}>
          <div className={styles.card}>
            <h3 className={styles.cardTitle}>Inventory Summary</h3>
            <div className={styles.twoMetricsRow}>
              <div className={styles.metricSmall}>
                <div className={styles.iconBox} style={{ background: '#FFE28A' }}>{Icons.stock}</div>
                <div className={styles.metricValue}>{nf.format(inv?.inStock || 0)}</div>
                <div className={styles.metricLabel}>In Stock</div>
              </div>
              <div className={styles.metricSmall}>
                <div className={styles.iconBox} style={{ background: '#62F2C8' }}>{Icons.receive}</div>
                <div className={styles.metricValue}>{nf.format(inv?.toBeReceivedHardcoded ?? TO_BE_RECEIVED_HARDCODED)}</div>
                <div className={styles.metricLabel}>To be received</div>
              </div>
            </div>
          </div>

          <div className={styles.card}>
            <h3 className={styles.cardTitle}>Product Summary</h3>
            <div className={styles.twoMetricsRow}>
              <div className={styles.metricSmall}>
                <div className={styles.iconBox} style={{ background: '#FFE28A' }}>{Icons.supplier}</div>
                <div className={styles.metricValue}>{nf.format(prod?.suppliersHardcoded ?? SUPPLIERS_HARDCODED)}</div>
                <div className={styles.metricLabel}>Number of Suppliers</div>
              </div>
              <div className={styles.metricSmall}>
                <div className={styles.iconBox} style={{ background: '#62F2C8' }}>{Icons.category}</div>
                <div className={styles.metricValue}>{nf.format(prod?.categoriesCount ?? 0)}</div>
                <div className={styles.metricLabel}>Number of Categories</div>
              </div>
            </div>
          </div>

          <div className={styles.card}>
            <h3 className={styles.cardTitle}>Top Products</h3>
            <div className={styles.topList}>
              {(topSelling || []).slice(0, 6).map((p) => (
                <div key={p.name} className={styles.topItem}>
                  <div className={styles.topName}>{p.name}</div>
                  <img
                    className={styles.topImg}
                    src={p.imageUrl || '/placeholder-52.svg'}
                    alt={p.name}
                    onError={(e) => {
                      e.currentTarget.src = '/placeholder-52.svg';
                    }}
                  />
                </div>
              ))}
              {!topSelling?.length && (
                <div className={styles.topName} style={{ color: '#4b5563' }}>
                  No sales yet
                </div>
              )}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
